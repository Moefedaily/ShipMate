<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title th:text="${emailTitle}">Complete Your Payment - ShipMate</title>
</head>

<body style="margin:0;padding:0;background:#f6f7f9;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;color:#1f2937;">

<table width="100%" cellpadding="0" cellspacing="0" style="padding:50px 20px;">
<tr>
<td align="center">

<table width="100%" cellpadding="0" cellspacing="0"
  style="max-width:520px;background:#ffffff;border-radius:18px;border:1px solid #e5e7eb;">

  <!-- HEADER -->
  <tr>
    <td align="center" style="padding:36px 28px;border-bottom:1px solid #e5e7eb;">
      <div style="font-size:22px;font-weight:700;color:#111827;">
        ShipMate
      </div>
      <div style="font-size:13px;color:#6b7280;margin-top:6px;">
        Secure Delivery Platform
      </div>
    </td>
  </tr>

  <!-- BODY -->
  <tr>
    <td style="padding:36px 28px;">

      <h1 style="margin:0 0 16px 0;font-size:22px;font-weight:700;color:#111827;">
        Complete Your Payment
      </h1>

      <p style="font-size:14px;color:#6b7280;line-height:1.6;margin-bottom:24px;">
        A driver has accepted your shipment.
        Please complete your secure payment to start the delivery process.
      </p>

      <!-- Shipment Info -->
      <table width="100%" cellpadding="0" cellspacing="0"
        style="background:#fafafa;border:1px solid #e5e7eb;border-radius:12px;padding:16px;margin-bottom:28px;">
        <tr>
          <td style="font-size:12px;color:#6b7280;padding:6px 0;">
            Shipment ID
          </td>
          <td align="right"
              style="font-size:13px;font-weight:600;color:#111827;"
              th:text="${shipmentId}">
          </td>
        </tr>
        <tr>
          <td style="font-size:12px;color:#6b7280;padding:6px 0;">
            Amount Due
          </td>
          <td align="right"
              style="font-size:16px;font-weight:700;color:#ff7a00;"
              th:text="${#numbers.formatDecimal(amount, 1, 'POINT', 2, 'NONE') + ' ' + currency}">
          </td>
        </tr>
      </table>

      <!-- CTA -->
      <div style="text-align:center;margin-bottom:28px;">
        <a th:href="${paymentLink}"
           style="display:inline-block;padding:14px 32px;background:#ff7a00;color:#ffffff;
                  text-decoration:none;font-size:14px;font-weight:600;border-radius:10px;">
          Complete Payment
        </a>
      </div>

      <!-- Fallback Link -->
      <p style="font-size:12px;color:#6b7280;">
        If the button doesn't work, copy this link:
      </p>
      <p style="font-size:12px;word-break:break-all;">
        <a th:href="${paymentLink}"
           th:text="${paymentLink}"
           style="color:#ff7a00;text-decoration:none;"></a>
      </p>

    </td>
  </tr>

  <!-- FOOTER -->
  <tr>
    <td style="background:#fafafa;border-top:1px solid #e5e7eb;padding:20px 28px;text-align:center;">
      <p style="font-size:12px;color:#6b7280;margin:0 0 8px 0;">
        If you did not request this shipment, contact us immediately.
      </p>

      <p style="font-size:12px;color:#9ca3af;margin:0 0 8px 0;">
        <a th:href="'mailto:' + ${supportEmail}"
           th:text="${supportEmail}"
           style="color:#ff7a00;text-decoration:none;"></a>
      </p>

      <p style="font-size:11px;color:#9ca3af;margin:0;">
        Â© <span th:text="${currentYear}">2026</span> ShipMate. All rights reserved.
      </p>
    </td>
  </tr>

</table>

</td>
</tr>
</table>

</body>
</html>
